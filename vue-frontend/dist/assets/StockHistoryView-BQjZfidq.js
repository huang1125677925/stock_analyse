import{d as K,a as v,r as oe,z as Q,A as ee,c as $,e as t,i,w as a,b as y,f as X,g as ne,l as q,M as ae,k as m,t as p,L as O,E as U,o as b,_ as Z,x as J,C as de,D as pe,G as te,Y as le,j as _e,F as ue,y as ge,N as fe,Q as me,O as he,u as ve}from"./index-DjG3W8mg.js";import{d as be,e as ye,f as we,a as ke,h as Ce,g as xe}from"./individualStockApi-BzOoOvIV.js";import{i as re}from"./index-ElshY9iF.js";import{H as De}from"./HeatmapChart-CC8kCuVV.js";import{b as Se}from"./strategyApi-BEk6Fp34.js";const $e={class:"balance-sheet-table"},Ie={class:"filter-section"},ze={key:1,class:"pagination-container"},Pe={key:2,class:"loading-container"},Fe={key:3,class:"empty-container"},Le=K({__name:"BalanceSheetTable",props:{stockCode:{}},emits:["loading","error"],setup(Y,{emit:d}){const x=Y,c=d,h=v(!1),f=v([]),D=v(0),r=v(1),I=v(20),z=v(""),S=oe({page:1,page_size:20,date:""}),w=async()=>{if(!x.stockCode){U.warning("请提供股票代码");return}h.value=!0,c("loading",!0);try{S.page=r.value,S.page_size=I.value;const e=await be(x.stockCode,S);f.value=e.data,console.log("资产负债表数据:",e),D.value=e.data.length,e.data.length===0&&U.info("暂无资产负债表数据")}catch(e){console.error("获取资产负债表数据失败:",e);const l="获取资产负债表数据失败，请稍后重试";U.error(l),c("error",l)}finally{h.value=!1,c("loading",!1)}},E=({prop:e,order:l})=>{console.log("排序变化:",e,l)},B=e=>{I.value=e,r.value=1,w()},A=e=>{r.value=e,w()},g=e=>e==null?"-":e>=1e8?(e/1e8).toFixed(2)+"亿":e>=1e4?(e/1e4).toFixed(2)+"万":e.toString(),L=e=>e==null?"":e>0?"growth-positive":e<0?"growth-negative":"",V=()=>{},s=()=>{z.value=""};return Q(()=>x.stockCode,e=>{e&&(r.value=1,w())}),ee(()=>{x.stockCode&&w()}),(e,l)=>{const H=i("el-icon"),M=i("el-input"),R=i("el-col"),k=i("el-button"),P=i("el-row"),n=i("el-table-column"),_=i("el-table"),C=i("el-pagination"),F=i("el-skeleton"),T=i("el-empty"),u=i("el-card");return b(),$("div",$e,[t(u,null,{default:a(()=>[y("div",Ie,[t(P,{gutter:20,align:"middle"},{default:a(()=>[t(R,{span:8},{default:a(()=>[t(M,{modelValue:z.value,"onUpdate:modelValue":l[0]||(l[0]=o=>z.value=o),placeholder:"输入报告期进行筛选（如：2023、2023-12）",clearable:"",onInput:V},{prefix:a(()=>[t(H,null,{default:a(()=>[t(q(ae))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(R,{span:4},{default:a(()=>[t(k,{onClick:s},{default:a(()=>[...l[2]||(l[2]=[m("清除筛选",-1)])]),_:1})]),_:1})]),_:1})]),!h.value&&f.value.length>0?(b(),X(_,{key:0,data:f.value,border:"",stripe:"",style:{width:"100%"},height:"500",onSortChange:E},{default:a(()=>[t(n,{prop:"report_date",label:"报告期",width:"120",sortable:""}),t(n,{prop:"monetary_funds",label:"货币资金","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.monetary_funds)),1)]),_:1}),t(n,{prop:"accounts_receivable",label:"应收账款","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.accounts_receivable)),1)]),_:1}),t(n,{prop:"inventory",label:"存货","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.inventory)),1)]),_:1}),t(n,{prop:"total_assets",label:"总资产","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.total_assets)),1)]),_:1}),t(n,{prop:"total_assets_growth_rate",label:"总资产增长率","min-width":"120",sortable:""},{default:a(o=>[y("span",{class:O(L(o.row.total_assets_growth_rate))},p(o.row.total_assets_growth_rate?o.row.total_assets_growth_rate.toFixed(2)+"%":"-"),3)]),_:1}),t(n,{prop:"accounts_payable",label:"应付账款","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.accounts_payable)),1)]),_:1}),t(n,{prop:"total_liabilities",label:"总负债","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.total_liabilities)),1)]),_:1}),t(n,{prop:"total_liabilities_growth_rate",label:"总负债增长率","min-width":"120",sortable:""},{default:a(o=>[y("span",{class:O(L(o.row.total_liabilities_growth_rate))},p(o.row.total_liabilities_growth_rate?o.row.total_liabilities_growth_rate.toFixed(2)+"%":"-"),3)]),_:1}),t(n,{prop:"debt_to_asset_ratio",label:"资产负债率","min-width":"120",sortable:""},{default:a(o=>[m(p(o.row.debt_to_asset_ratio?o.row.debt_to_asset_ratio.toFixed(2)+"%":"-"),1)]),_:1}),t(n,{prop:"total_equity",label:"股东权益","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.total_equity)),1)]),_:1}),t(n,{prop:"announcement_date",label:"公告日期",width:"120"})]),_:1},8,["data"])):ne("",!0),!h.value&&f.value.length>0?(b(),$("div",ze,[t(C,{"current-page":r.value,"onUpdate:currentPage":l[1]||(l[1]=o=>r.value=o),"page-size":I.value,total:D.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:B,onCurrentChange:A},null,8,["current-page","page-size","total"])])):h.value?(b(),$("div",Pe,[t(F,{rows:10,animated:""})])):(b(),$("div",Fe,[t(T,{description:"暂无资产负债表数据"},{default:a(()=>[t(k,{type:"primary",onClick:w},{default:a(()=>[...l[3]||(l[3]=[m("刷新数据",-1)])]),_:1})]),_:1})]))]),_:1})])}}}),Ae=Z(Le,[["__scopeId","data-v-2d4da6cb"]]),He={class:"income-statement-table"},Ve={class:"filter-section"},Re={key:1,class:"pagination-container"},Ee={key:2,class:"loading-container"},Be={key:3,class:"empty-container"},Me=K({__name:"IncomeStatementTable",props:{stockCode:{}},emits:["loading","error"],setup(Y,{emit:d}){const x=Y,c=d,h=v(!1),f=v([]),D=v(0),r=v(1),I=v(20),z=v(""),S=oe({page:1,page_size:20,date:""}),w=async()=>{if(!x.stockCode){U.warning("请提供股票代码");return}h.value=!0,c("loading",!0);try{S.page=r.value,S.page_size=I.value;const e=await ye(x.stockCode,S);f.value=e.data,D.value=e.data.length,e.data.length===0&&U.info("暂无利润表数据")}catch(e){console.error("获取利润表数据失败:",e);const l="获取利润表数据失败，请稍后重试";U.error(l),c("error",l)}finally{h.value=!1,c("loading",!1)}},E=({prop:e,order:l})=>{console.log("排序变化:",e,l)},B=e=>{I.value=e,r.value=1,w()},A=e=>{r.value=e,w()},g=e=>e==null?"-":e>=1e8?(e/1e8).toFixed(2)+"亿":e>=1e4?(e/1e4).toFixed(2)+"万":e.toString(),L=e=>e==null?"":e>0?"growth-positive":e<0?"growth-negative":"",V=()=>{},s=()=>{z.value=""};return Q(()=>x.stockCode,e=>{e&&(r.value=1,w())}),ee(()=>{x.stockCode&&w()}),(e,l)=>{const H=i("el-icon"),M=i("el-input"),R=i("el-col"),k=i("el-button"),P=i("el-row"),n=i("el-table-column"),_=i("el-table"),C=i("el-pagination"),F=i("el-skeleton"),T=i("el-empty"),u=i("el-card");return b(),$("div",He,[t(u,null,{default:a(()=>[y("div",Ve,[t(P,{gutter:20,align:"middle"},{default:a(()=>[t(R,{span:8},{default:a(()=>[t(M,{modelValue:z.value,"onUpdate:modelValue":l[0]||(l[0]=o=>z.value=o),placeholder:"输入报告期进行筛选（如：2023、2023-12）",clearable:"",onInput:V},{prefix:a(()=>[t(H,null,{default:a(()=>[t(q(ae))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(R,{span:4},{default:a(()=>[t(k,{onClick:s},{default:a(()=>[...l[2]||(l[2]=[m("清除筛选",-1)])]),_:1})]),_:1})]),_:1})]),!h.value&&f.value.length>0?(b(),X(_,{key:0,data:f.value,border:"",stripe:"",style:{width:"100%"},height:"500",onSortChange:E},{default:a(()=>[t(n,{prop:"report_date",label:"报告期",width:"120",sortable:""}),t(n,{prop:"operating_revenue",label:"营业总收入","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.operating_revenue)),1)]),_:1}),t(n,{prop:"operating_revenue_growth_rate",label:"营业收入增长率","min-width":"130",sortable:""},{default:a(o=>[y("span",{class:O(L(o.row.operating_revenue_growth_rate))},p(o.row.operating_revenue_growth_rate?o.row.operating_revenue_growth_rate.toFixed(2)+"%":"-"),3)]),_:1}),t(n,{prop:"total_operating_expenses",label:"营业总成本","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.total_operating_expenses)),1)]),_:1}),t(n,{prop:"operating_expenses",label:"营业费用","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.operating_expenses)),1)]),_:1}),t(n,{prop:"sales_expenses",label:"销售费用","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.sales_expenses)),1)]),_:1}),t(n,{prop:"management_expenses",label:"管理费用","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.management_expenses)),1)]),_:1}),t(n,{prop:"financial_expenses",label:"财务费用","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.financial_expenses)),1)]),_:1}),t(n,{prop:"operating_profit",label:"营业利润","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.operating_profit)),1)]),_:1}),t(n,{prop:"total_profit",label:"利润总额","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.total_profit)),1)]),_:1}),t(n,{prop:"net_profit",label:"净利润","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.net_profit)),1)]),_:1}),t(n,{prop:"net_profit_growth_rate",label:"净利润增长率","min-width":"120",sortable:""},{default:a(o=>[y("span",{class:O(L(o.row.net_profit_growth_rate))},p(o.row.net_profit_growth_rate?o.row.net_profit_growth_rate.toFixed(2)+"%":"-"),3)]),_:1}),t(n,{prop:"announcement_date",label:"公告日期",width:"120"})]),_:1},8,["data"])):ne("",!0),!h.value&&f.value.length>0?(b(),$("div",Re,[t(C,{"current-page":r.value,"onUpdate:currentPage":l[1]||(l[1]=o=>r.value=o),"page-size":I.value,total:D.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:B,onCurrentChange:A},null,8,["current-page","page-size","total"])])):h.value?(b(),$("div",Ee,[t(F,{rows:10,animated:""})])):(b(),$("div",Be,[t(T,{description:"暂无利润表数据"},{default:a(()=>[t(k,{type:"primary",onClick:w},{default:a(()=>[...l[3]||(l[3]=[m("刷新数据",-1)])]),_:1})]),_:1})]))]),_:1})])}}}),Te=Z(Me,[["__scopeId","data-v-fbfffdc4"]]),Ye={class:"cash-flow-statement-table"},Oe={class:"filter-section"},Ue={key:1,class:"pagination-container"},Ne={key:2,class:"loading-container"},je={key:3,class:"empty-container"},Ge=K({__name:"CashFlowStatementTable",props:{stockCode:{}},emits:["loading","error"],setup(Y,{emit:d}){const x=Y,c=d,h=v(!1),f=v([]),D=v(0),r=v(1),I=v(20),z=v(""),S=oe({page:1,page_size:20,date:""}),w=async()=>{if(!x.stockCode){U.warning("请提供股票代码");return}h.value=!0,c("loading",!0);try{S.page=r.value,S.page_size=I.value;const e=await we(x.stockCode,S);f.value=e.data,D.value=e.data.length,e.data.length===0&&U.info("暂无现金流量表数据")}catch(e){console.error("获取现金流量表数据失败:",e);const l="获取现金流量表数据失败，请稍后重试";U.error(l),c("error",l)}finally{h.value=!1,c("loading",!1)}},E=({prop:e,order:l})=>{console.log("排序变化:",e,l)},B=e=>{I.value=e,r.value=1,w()},A=e=>{r.value=e,w()},g=e=>e==null?"-":Math.abs(e)>=1e8?(e/1e8).toFixed(2)+"亿":Math.abs(e)>=1e4?(e/1e4).toFixed(2)+"万":e.toString(),L=e=>e==null?"":e>0?"cash-flow-positive":e<0?"cash-flow-negative":"",V=()=>{},s=()=>{z.value=""};return Q(()=>x.stockCode,e=>{e&&(r.value=1,w())}),ee(()=>{x.stockCode&&w()}),(e,l)=>{const H=i("el-icon"),M=i("el-input"),R=i("el-col"),k=i("el-button"),P=i("el-row"),n=i("el-table-column"),_=i("el-table"),C=i("el-pagination"),F=i("el-skeleton"),T=i("el-empty"),u=i("el-card");return b(),$("div",Ye,[t(u,null,{default:a(()=>[y("div",Oe,[t(P,{gutter:20,align:"middle"},{default:a(()=>[t(R,{span:8},{default:a(()=>[t(M,{modelValue:z.value,"onUpdate:modelValue":l[0]||(l[0]=o=>z.value=o),placeholder:"输入报告期进行筛选（如：2023、2023-12）",clearable:"",onInput:V},{prefix:a(()=>[t(H,null,{default:a(()=>[t(q(ae))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(R,{span:4},{default:a(()=>[t(k,{onClick:s},{default:a(()=>[...l[2]||(l[2]=[m("清除筛选",-1)])]),_:1})]),_:1})]),_:1})]),!h.value&&f.value.length>0?(b(),X(_,{key:0,data:f.value,border:"",stripe:"",style:{width:"100%"},height:"500",onSortChange:E},{default:a(()=>[t(n,{prop:"report_date",label:"报告期",width:"120",sortable:""}),t(n,{prop:"operating_cash_flow",label:"经营活动现金流量净额","min-width":"160",sortable:""},{default:a(o=>[y("span",{class:O(L(o.row.operating_cash_flow))},p(g(o.row.operating_cash_flow)),3)]),_:1}),t(n,{prop:"investing_cash_flow",label:"投资活动现金流量净额","min-width":"160",sortable:""},{default:a(o=>[y("span",{class:O(L(o.row.investing_cash_flow))},p(g(o.row.investing_cash_flow)),3)]),_:1}),t(n,{prop:"financing_cash_flow",label:"筹资活动现金流量净额","min-width":"160",sortable:""},{default:a(o=>[y("span",{class:O(L(o.row.financing_cash_flow))},p(g(o.row.financing_cash_flow)),3)]),_:1}),t(n,{prop:"net_cash_flow",label:"现金及现金等价物净增加额","min-width":"180",sortable:""},{default:a(o=>[y("span",{class:O(L(o.row.net_cash_flow))},p(g(o.row.net_cash_flow)),3)]),_:1}),t(n,{prop:"cash_received_from_sales",label:"销售商品、提供劳务收到的现金","min-width":"200",sortable:""},{default:a(o=>[m(p(g(o.row.cash_received_from_sales)),1)]),_:1}),t(n,{prop:"cash_paid_for_goods",label:"购买商品、接受劳务支付的现金","min-width":"200",sortable:""},{default:a(o=>[m(p(g(o.row.cash_paid_for_goods)),1)]),_:1}),t(n,{prop:"cash_paid_to_employees",label:"支付给职工以及为职工支付的现金","min-width":"200",sortable:""},{default:a(o=>[m(p(g(o.row.cash_paid_to_employees)),1)]),_:1}),t(n,{prop:"taxes_paid",label:"支付的各项税费","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.taxes_paid)),1)]),_:1}),t(n,{prop:"cash_from_investments",label:"收回投资收到的现金","min-width":"140",sortable:""},{default:a(o=>[m(p(g(o.row.cash_from_investments)),1)]),_:1}),t(n,{prop:"cash_for_investments",label:"投资支付的现金","min-width":"120",sortable:""},{default:a(o=>[m(p(g(o.row.cash_for_investments)),1)]),_:1}),t(n,{prop:"cash_from_financing",label:"取得借款收到的现金","min-width":"140",sortable:""},{default:a(o=>[m(p(g(o.row.cash_from_financing)),1)]),_:1}),t(n,{prop:"cash_for_debt_repayment",label:"偿还债务支付的现金","min-width":"140",sortable:""},{default:a(o=>[m(p(g(o.row.cash_for_debt_repayment)),1)]),_:1}),t(n,{prop:"announcement_date",label:"公告日期",width:"120"})]),_:1},8,["data"])):ne("",!0),!h.value&&f.value.length>0?(b(),$("div",Ue,[t(C,{"current-page":r.value,"onUpdate:currentPage":l[1]||(l[1]=o=>r.value=o),"page-size":I.value,total:D.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:B,onCurrentChange:A},null,8,["current-page","page-size","total"])])):h.value?(b(),$("div",Ne,[t(F,{rows:10,animated:""})])):(b(),$("div",je,[t(T,{description:"暂无现金流量表数据"},{default:a(()=>[t(k,{type:"primary",onClick:w},{default:a(()=>[...l[3]||(l[3]=[m("刷新数据",-1)])]),_:1})]),_:1})]))]),_:1})])}}}),qe=Z(Ge,[["__scopeId","data-v-4cbf1178"]]),Ke={class:"history-data-table"},Ze={key:0,class:"table-container"},Qe={class:"pagination-container"},Je={key:1,class:"empty-container"},We=K({__name:"HistoryDataTable",props:{historyData:{}},emits:["refresh","sort-change"],setup(Y,{expose:d,emit:x}){const c=Y,h=x,f=v("date"),D=v("desc"),r=v(1),I=v(20),z=J(()=>c.historyData.length?[...c.historyData].sort((s,e)=>{const l=s[f.value],H=e[f.value];if(typeof l=="string"&&typeof H=="string")return D.value==="asc"?l.localeCompare(H):H.localeCompare(l);{const M=l==null?-1/0:Number(l),R=H==null?-1/0:Number(H);return D.value==="asc"?M-R:R-M}}):[]),S=J(()=>{const s=(r.value-1)*I.value,e=s+I.value;return z.value.slice(s,e)}),w=({prop:s,order:e})=>{f.value=s||"date",D.value=e==="ascending"?"asc":"desc",h("sort-change",{prop:s,order:e})},E=s=>{I.value=s,r.value=1},B=s=>{r.value=s},A=()=>{h("refresh")},g=s=>s>0?"price-up":s<0?"price-down":"price-unchanged",L=s=>s==null?"-":s>=1e8?(s/1e8).toFixed(2)+"亿手":s>=1e4?(s/1e4).toFixed(2)+"万手":s.toString()+"手",V=s=>s==null?"-":s>=1e8?(s/1e8).toFixed(2)+"亿":s>=1e4?(s/1e4).toFixed(2)+"万":s.toString();return d({resetPagination:()=>{r.value=1}}),(s,e)=>{const l=i("el-table-column"),H=i("el-table"),M=i("el-pagination"),R=i("el-button"),k=i("el-empty");return b(),$("div",Ke,[s.historyData.length>0?(b(),$("div",Ze,[t(H,{data:S.value,border:"",stripe:"",style:{width:"100%","max-width":"100%"},height:"400",onSortChange:w},{default:a(()=>[t(l,{prop:"date",label:"日期",width:"120",sortable:""}),t(l,{prop:"open_price",label:"开盘价","min-width":"100",sortable:""}),t(l,{prop:"high_price",label:"最高价","min-width":"100",sortable:""}),t(l,{prop:"low_price",label:"最低价","min-width":"100",sortable:""}),t(l,{prop:"close_price",label:"收盘价","min-width":"100",sortable:""}),t(l,{prop:"change_percent",label:"涨跌幅","min-width":"100",sortable:""},{default:a(P=>[y("span",{class:O(g(P.row.change_percent))},p(P.row.change_percent>0?"+":"")+p(P.row.change_percent.toFixed(2))+"% ",3)]),_:1}),t(l,{prop:"volume",label:"成交量","min-width":"120",sortable:""},{default:a(P=>[m(p(L(P.row.volume)),1)]),_:1}),t(l,{prop:"amount",label:"成交额","min-width":"120",sortable:""},{default:a(P=>[m(p(V(P.row.amount)),1)]),_:1}),t(l,{prop:"turnover_rate",label:"换手率","min-width":"100",sortable:""},{default:a(P=>[m(p(P.row.turnover_rate?P.row.turnover_rate.toFixed(2)+"%":"-"),1)]),_:1})]),_:1},8,["data"]),y("div",Qe,[t(M,{"current-page":r.value,"onUpdate:currentPage":e[0]||(e[0]=P=>r.value=P),"page-size":I.value,total:s.historyData.length,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:E,onCurrentChange:B},null,8,["current-page","page-size","total"])])])):(b(),$("div",Je,[t(k,{description:"暂无历史行情数据"},{default:a(()=>[t(R,{type:"primary",onClick:A},{default:a(()=>[...e[1]||(e[1]=[m("查询数据",-1)])]),_:1})]),_:1})]))])}}}),Xe=Z(We,[["__scopeId","data-v-1afb5bc5"]]),et={class:"performance-data-table"},tt={class:"filter-section"},at={key:1,class:"text-gray-400"},ot={class:"pagination-container"},nt=K({__name:"PerformanceDataTable",props:{performanceData:{},loading:{type:Boolean,default:!1}},emits:["refresh","sort-change"],setup(Y,{emit:d}){const x=Y,c=d,h=v(1),f=v(20),D=v(""),r=J(()=>{if(!D.value)return x.performanceData;const e=D.value.toLowerCase().trim();return x.performanceData.filter(l=>l.report_date.toLowerCase().includes(e))}),I=J(()=>{const e=(h.value-1)*f.value,l=e+f.value;return r.value.slice(e,l)}),z=()=>{h.value=1},S=()=>{D.value="",h.value=1},w=({prop:e,order:l})=>{c("sort-change",{prop:e,order:l})},E=e=>{f.value=e,h.value=1},B=e=>{h.value=e},A=e=>e?e.includes("-")?e:e.length===8?`${e.slice(0,4)}-${e.slice(4,6)}-${e.slice(6,8)}`:e:"--",g=(e,l=2)=>e==null?"--":e.toFixed(l),L=e=>e==null?"--":`${e.toFixed(2)}%`,V=e=>e==null?"--":(e/1e8).toFixed(2),s=e=>e==null||e===0?"":e>0?"text-red-500":"text-green-500";return(e,l)=>{const H=i("el-icon"),M=i("el-input"),R=i("el-col"),k=i("el-button"),P=i("el-row"),n=i("el-table-column"),_=i("el-table"),C=i("el-pagination"),F=i("el-empty"),T=pe("loading");return b(),$("div",et,[y("div",tt,[t(P,{gutter:20,align:"middle"},{default:a(()=>[t(R,{span:8},{default:a(()=>[t(M,{modelValue:D.value,"onUpdate:modelValue":l[0]||(l[0]=u=>D.value=u),placeholder:"输入报告期进行筛选（如：2023、2023-12）",clearable:"",onInput:z},{prefix:a(()=>[t(H,null,{default:a(()=>[t(q(ae))]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(R,{span:4},{default:a(()=>[t(k,{onClick:S},{default:a(()=>[...l[3]||(l[3]=[m("清除筛选",-1)])]),_:1})]),_:1})]),_:1})]),de((b(),X(_,{data:I.value,stripe:"",border:"",height:"600",onSortChange:w},{default:a(()=>[t(n,{prop:"report_date",label:"报告期",width:"120",sortable:"custom"},{default:a(({row:u})=>[m(p(A(u.report_date)),1)]),_:1}),t(n,{prop:"earnings_per_share",label:"每股收益(元)",width:"120",sortable:"custom",align:"right"},{default:a(({row:u})=>[y("span",{class:O(s(u.earnings_per_share))},p(g(u.earnings_per_share,4)),3)]),_:1}),t(n,{prop:"operating_revenue",label:"营业收入(亿元)",width:"140",sortable:"custom",align:"right"},{default:a(({row:u})=>[m(p(V(u.operating_revenue)),1)]),_:1}),t(n,{prop:"operating_revenue_growth_rate",label:"营收增长率(%)",width:"140",sortable:"custom",align:"right"},{default:a(({row:u})=>[y("span",{class:O(s(u.operating_revenue_growth_rate))},p(L(u.operating_revenue_growth_rate)),3)]),_:1}),t(n,{prop:"net_profit",label:"净利润(亿元)",width:"140",sortable:"custom",align:"right"},{default:a(({row:u})=>[y("span",{class:O(s(u.net_profit))},p(V(u.net_profit)),3)]),_:1}),t(n,{prop:"net_profit_growth_rate",label:"净利润增长率(%)",width:"150",sortable:"custom",align:"right"},{default:a(({row:u})=>[y("span",{class:O(s(u.net_profit_growth_rate))},p(L(u.net_profit_growth_rate)),3)]),_:1}),t(n,{prop:"net_assets_per_share",label:"每股净资产(元)",width:"140",sortable:"custom",align:"right"},{default:a(({row:u})=>[m(p(g(u.net_assets_per_share,4)),1)]),_:1}),t(n,{prop:"roe",label:"净资产收益率(%)",width:"150",sortable:"custom",align:"right"},{default:a(({row:u})=>[y("span",{class:O(s(u.roe))},p(L(u.roe)),3)]),_:1}),t(n,{prop:"operating_cash_flow_per_share",label:"每股经营现金流(元)",width:"170",sortable:"custom",align:"right"},{default:a(({row:u})=>[y("span",{class:O(s(u.operating_cash_flow_per_share))},p(g(u.operating_cash_flow_per_share,4)),3)]),_:1}),t(n,{prop:"gross_profit_margin",label:"毛利率(%)",width:"120",sortable:"custom",align:"right"},{default:a(({row:u})=>[u.gross_profit_margin!==null?(b(),$("span",{key:0,class:O(s(u.gross_profit_margin))},p(L(u.gross_profit_margin)),3)):(b(),$("span",at,"--"))]),_:1}),t(n,{prop:"announcement_date",label:"公告日期",width:"120"},{default:a(({row:u})=>[m(p(A(u.announcement_date)),1)]),_:1})]),_:1},8,["data"])),[[T,e.loading]]),y("div",ot,[t(C,{"current-page":h.value,"onUpdate:currentPage":l[1]||(l[1]=u=>h.value=u),"page-size":f.value,"onUpdate:pageSize":l[2]||(l[2]=u=>f.value=u),"page-sizes":[10,20,50,100],total:r.value.length,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:E,onCurrentChange:B},null,8,["current-page","page-size","total"])]),!e.loading&&r.value.length===0?(b(),X(F,{key:0,description:D.value?"未找到匹配的业绩数据":"暂无业绩数据"},null,8,["description"])):ne("",!0)])}}}),lt=Z(nt,[["__scopeId","data-v-3dd3a3b7"]]),rt={class:"stock-chart-container"},st={key:0,class:"chart-wrapper"},it={key:1,class:"loading-container"},ct={key:2,class:"empty-container"},dt=K({__name:"StockChart",props:{historyData:{},stockInfo:{},loading:{type:Boolean,default:!1}},setup(Y){const d=Y,x=v(null);let c=null;const h=()=>{if(console.log("StockChart initChart called",{hasChartRef:!!x.value,dataLength:d.historyData.length,stockInfo:d.stockInfo,loading:d.loading}),!x.value||!d.historyData.length){console.log("StockChart initChart early return",{hasChartRef:!!x.value,dataLength:d.historyData.length});return}c&&c.dispose(),c=re(x.value),console.log("StockChart chart instance created",c);const f={title:{text:`${d.stockInfo.name} (${d.stockInfo.code}) 历史K线图`,left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["K线","成交量"],bottom:10},grid:[{id:"main",left:"10%",right:"10%",height:"60%",top:"10%"},{id:"volume",left:"10%",right:"10%",top:"75%",height:"15%"}],xAxis:[{type:"category",data:d.historyData.map(r=>r.date),scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,gridIndex:0},{type:"category",data:d.historyData.map(r=>r.date),scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},gridIndex:1,axisLabel:{show:!1}}],yAxis:[{type:"value",scale:!0,splitLine:{show:!0},position:"right",name:"价格",nameLocation:"middle",nameGap:30,gridIndex:0},{type:"value",scale:!0,splitLine:{show:!1},name:"成交量",nameLocation:"middle",nameGap:15,gridIndex:1}],dataZoom:[{type:"inside",start:0,end:100,xAxisIndex:[0,1]},{show:!0,type:"slider",bottom:5,start:0,end:100,xAxisIndex:[0,1]}],series:[{name:"K线",type:"candlestick",xAxisIndex:0,yAxisIndex:0,data:d.historyData.map(r=>[r.open_price,r.close_price,r.low_price,r.high_price]),itemStyle:{color:"#f56c6c",color0:"#67c23a",borderColor:"#f56c6c",borderColor0:"#67c23a"}},{name:"成交量",type:"bar",xAxisIndex:1,yAxisIndex:1,data:d.historyData.map(r=>r.volume),itemStyle:{color:function(r){const I=r.dataIndex,z=d.historyData[I];return z.close_price>z.open_price?"#f56c6c":"#67c23a"}}}]};console.log("StockChart option prepared",f),c.setOption(f),console.log("StockChart setOption completed");const D=()=>{c?.resize()};window.addEventListener("resize",D)};return Q(()=>[d.historyData,d.stockInfo,d.loading],async()=>{console.log("StockChart watch triggered",{loading:d.loading,dataLength:d.historyData.length,stockInfo:d.stockInfo}),!d.loading&&d.historyData.length>0?(await te(),h()):c&&c.clear()},{deep:!0,immediate:!0}),ee(async()=>{console.log("StockChart onMounted",{loading:d.loading,dataLength:d.historyData.length}),!d.loading&&d.historyData.length>0&&(await te(),h())}),le(()=>{c&&(c.dispose(),c=null),window.removeEventListener("resize",()=>{c?.resize()})}),(f,D)=>{const r=i("el-skeleton"),I=i("el-empty");return b(),$("div",rt,[!f.loading&&f.historyData.length>0?(b(),$("div",st,[y("div",{ref_key:"chartRef",ref:x,class:"stock-chart"},null,512)])):f.loading?(b(),$("div",it,[t(r,{rows:8,animated:""})])):(b(),$("div",ct,[t(I,{description:"暂无历史行情数据"})]))])}}}),pt=Z(dt,[["__scopeId","data-v-8daccfac"]]),_t={class:"performance-chart-container"},ut={class:"filter-section"},gt={key:0,class:"chart-wrapper"},ft={key:1,class:"loading-container"},mt={key:2,class:"empty-container"},ht=K({__name:"PerformanceChart",props:{performanceData:{},stockInfo:{},loading:{type:Boolean,default:!1}},setup(Y){const d=Y,x=v(null);let c=null;const h=v(""),f=J(()=>{if(!h.value)return d.performanceData;const S=h.value.toLowerCase().trim();return d.performanceData.filter(w=>w.report_date.toLowerCase().includes(S))}),D=()=>h.value&&d.performanceData.length>0?"未找到匹配的业绩数据":"暂无业绩数据",r=()=>{f.value.length>0?te(()=>{z()}):c&&c.clear()},I=()=>{h.value=""},z=()=>{if(!x.value||!f.value.length)return;c&&c.dispose(),c=re(x.value);const S=[...f.value].sort((s,e)=>s.report_date.localeCompare(e.report_date)),w=S.map(s=>s.report_date),E=S.map(s=>s.operating_revenue/1e8),B=S.map(s=>s.net_profit/1e8),A=S.map(s=>s.earnings_per_share),g=S.map(s=>s.roe),L={title:{text:`${d.stockInfo.name} (${d.stockInfo.code}) 业绩数据趋势`,left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["营业收入(亿元)","净利润(亿元)","每股收益(元)","ROE(%)"],top:40},grid:{left:"10%",right:"10%",top:"20%",bottom:"10%"},xAxis:{type:"category",data:w,axisLabel:{rotate:45}},yAxis:[{type:"value",name:"金额(亿元)",position:"left",axisLabel:{formatter:"{value}"}},{type:"value",name:"比率",position:"right",axisLabel:{formatter:"{value}"}}],series:[{name:"营业收入(亿元)",type:"line",yAxisIndex:0,data:E,smooth:!0,itemStyle:{color:"#409EFF"}},{name:"净利润(亿元)",type:"line",yAxisIndex:0,data:B,smooth:!0,itemStyle:{color:"#67C23A"}},{name:"每股收益(元)",type:"line",yAxisIndex:1,data:A,smooth:!0,itemStyle:{color:"#E6A23C"}},{name:"ROE(%)",type:"line",yAxisIndex:1,data:g,smooth:!0,itemStyle:{color:"#F56C6C"}}]};c.setOption(L);const V=()=>{c?.resize()};window.addEventListener("resize",V)};return Q(()=>[d.performanceData,d.stockInfo],async()=>{!d.loading&&f.value.length>0?(await te(),z()):c&&c.clear()},{deep:!0}),Q(()=>f.value,async()=>{!d.loading&&f.value.length>0?(await te(),z()):c&&c.clear()},{deep:!0}),ee(async()=>{!d.loading&&f.value.length>0&&(await te(),z())}),le(()=>{c&&(c.dispose(),c=null),window.removeEventListener("resize",()=>{c?.resize()})}),(S,w)=>{const E=i("el-input"),B=i("el-button"),A=i("el-skeleton"),g=i("el-empty");return b(),$("div",_t,[y("div",ut,[t(E,{modelValue:h.value,"onUpdate:modelValue":w[0]||(w[0]=L=>h.value=L),placeholder:"筛选报告期 (如: 2023, 2023-12)",clearable:"","prefix-icon":q(ae),onInput:r,style:{width:"300px","margin-right":"10px"}},null,8,["modelValue","prefix-icon"]),t(B,{onClick:I},{default:a(()=>[...w[1]||(w[1]=[m("清除筛选",-1)])]),_:1})]),!S.loading&&f.value.length>0?(b(),$("div",gt,[w[2]||(w[2]=y("h3",null,"业绩数据趋势",-1)),y("div",{ref_key:"performanceChartRef",ref:x,class:"performance-chart"},null,512)])):S.loading?(b(),$("div",ft,[t(A,{rows:6,animated:""})])):(b(),$("div",mt,[t(g,{description:D()},null,8,["description"])]))])}}}),vt=Z(ht,[["__scopeId","data-v-72c8fdbb"]]),bt={class:"candlestick-pattern-heatmap"},yt={key:1,class:"empty"},wt=K({__name:"CandlestickPatternHeatmap",props:{stockCode:{},startDate:{},endDate:{}},setup(Y){const d=Y,x=v({}),c=v(!1),h=v(null),f=["hammer","morning_star","piercing","kicking","inverted_hammer","engulfing","harami"],D=["hanging_man","evening_star","dark_cloud_cover","three_black_crows","identical_three_crows"],r=["doji","long_legged_doji","gravestone_doji"],I=[...f,...r,...D],z={hammer:"锤子线（看涨）",morning_star:"早晨之星（看涨）",piercing:"刺透（看涨）",kicking:"踢击（看涨/看跌）",inverted_hammer:"倒锤头（看涨）",engulfing:"吞没（看涨/看跌）",harami:"孕线（看涨/看跌）",hanging_man:"上吊线（看跌）",evening_star:"黄昏之星（看跌）",dark_cloud_cover:"乌云盖顶（看跌）",three_black_crows:"三只黑乌鸦（看跌）",identical_three_crows:"同样三乌鸦（看跌）",doji:"十字星（中性）",long_legged_doji:"长脚十字星（中性）",gravestone_doji:"墓碑十字星（中性）"},S={bull:["#fde0dc","#f9bdbb","#f57c6e","#e84e40","#d32f2f"],bear:["#d0d9ff","#a6baff","#7a99ff","#4a7bd0","#2c4d8a"],neutral:["#f5f5f5","#e0e0e0","#bdbdbd","#9e9e9e","#757575"]},w=J(()=>{const A=I.length;return Math.max(500,A*28+140)}),E=async()=>{if(!d.stockCode){console.log("[CandlestickPatternHeatmap] 股票代码为空，跳过数据获取"),c.value=!1;return}console.log("[CandlestickPatternHeatmap] 开始获取数据:",{stockCode:d.stockCode,startDate:d.startDate,endDate:d.endDate});try{const A=k=>{if(k)return/^\d{8}$/.test(k)?`${k.slice(0,4)}-${k.slice(4,6)}-${k.slice(6,8)}`:k},g=A(d.startDate),L=A(d.endDate);console.log("[CandlestickPatternHeatmap] 格式化后的日期参数:",{start_date:g,end_date:L});const V=await Se(d.stockCode,{start_date:g,end_date:L});if(console.log("[CandlestickPatternHeatmap] API返回的原始数据:",V),!V){console.warn("[CandlestickPatternHeatmap] API返回数据为空"),c.value=!1;return}const s=Array.isArray(V.patterns)?V.patterns:[];if(console.log("[CandlestickPatternHeatmap] 提取的patterns数组:",s),console.log("[CandlestickPatternHeatmap] patterns数组长度:",s.length),!s.length){console.warn("[CandlestickPatternHeatmap] patterns数组为空"),c.value=!1;return}const e=s.map(k=>String(k.date));console.log("[CandlestickPatternHeatmap] 提取的日期数组:",e);const l=[],H=new Map;I.forEach((k,P)=>H.set(k,P)),s.forEach((k,P)=>{I.forEach(n=>{const _=k[n],C=typeof _=="number"?_:0,F=H.get(n);typeof F=="number"&&l.push([P,F,C])})}),console.log("[CandlestickPatternHeatmap] 构造的热力图数据:",l),console.log("[CandlestickPatternHeatmap] 热力图数据长度:",l.length);const M=l.filter(([,,k])=>k!==0);console.log("[CandlestickPatternHeatmap] 非零值数据:",M),console.log("[CandlestickPatternHeatmap] 非零值数据长度:",M.length);const R=[{value:-100,label:"看跌",color:S.bear[3]},{value:0,label:"无信号",color:S.neutral[2]},{value:100,label:"看涨",color:S.bull[3]}];x.value={tooltip:{position:"top",formatter:k=>{const P=k.data[0],n=k.data[1],_=k.data[2],C=e[P],F=I[n],T=z[F];return`${C}<br/>${T}: <br/>${_===100?"看涨(+100)":_===-100?"看跌(-100)":"无信号(0)"}`}},grid:{left:5,right:20,top:40,bottom:40},xAxis:{type:"category",data:e,axisLabel:{rotate:45}},yAxis:{type:"category",data:I.map(k=>z[k])},visualMap:{type:"piecewise",show:!0,pieces:R,orient:"horizontal",left:"center",top:8,textStyle:{fontSize:12}},series:[{type:"heatmap",data:l,emphasis:{itemStyle:{shadowBlur:6,shadowColor:"rgba(0,0,0,0.25)"}}}]},console.log("[CandlestickPatternHeatmap] 构造的图表配置:",x.value),c.value=l.length>0,console.log("[CandlestickPatternHeatmap] hasData设置为:",c.value)}catch(A){console.error("[CandlestickPatternHeatmap] 加载形态识别热力图失败:",A),c.value=!1}},B=A=>{h.value=A};return Q(()=>[d.stockCode,d.startDate,d.endDate],E,{immediate:!0}),ee(()=>{E()}),(A,g)=>{const L=i("el-empty");return b(),$("div",bt,[g[0]||(g[0]=y("div",{class:"header"},[y("h3",null,"形态识别结果热力图"),y("span",{class:"subtitle"},"日期范围与历史行情一致；纵轴为形态类别，按看涨/看跌/中性分组")],-1)),c.value?(b(),X(De,{key:0,option:x.value,height:w.value,onChartReady:B},null,8,["option","height"])):(b(),$("div",yt,[t(L,{description:"暂无形态识别数据"})]))])}}}),kt=Z(wt,[["__scopeId","data-v-e6b74d85"]]),Ct={class:"stock-history-view"},xt={class:"header-content"},Dt={class:"stock-info"},St={class:"stock-code"},$t={key:0},It={class:"header-actions"},zt={class:"query-section"},Pt={class:"chart-container"},Ft={class:"chart-container"},Lt={class:"chart-container"},At={key:0,class:"data-container"},Ht={key:1,class:"loading-container"},Vt={key:2,class:"empty-container"},Rt=K({__name:"StockHistoryView",setup(Y){const d=_e(),x=ve(),c=v(!1),h=v(!1),f=v(!1),D=oe({code:"",name:"",industry:"",total_shares:0,circulating_shares:0,list_date:"",pe_ratio:0,pb_ratio:0,total_market_cap:0,circulating_market_cap:0,created_at:"",updated_at:"",latest_price:0,change_percent:0,change_amount:0,volume:0,amount:0,amplitude:0,high:0,low:0,open_price:0,close_price:0,volume_ratio:0,turnover_rate:0,price_change_speed:0,change_5min:0,change_60d:0,change_ytd:0}),r=oe({code:d.params.code||"",dateRange:[]}),I=J(()=>{const n=o=>{const W=o.getFullYear(),N=String(o.getMonth()+1).padStart(2,"0"),G=String(o.getDate()).padStart(2,"0");return`${W}${N}${G}`},_=o=>{if(/^\d{8}$/.test(o)){const W=Number(o.slice(0,4)),N=Number(o.slice(4,6))-1,G=Number(o.slice(6,8));return new Date(W,N,G)}return/^\d{4}-\d{2}-\d{2}$/.test(o)?new Date(o):new Date},C=(o,W)=>{const N=_(o);return N.setDate(N.getDate()-W),n(N)},F=r.dateRange?.[1]??n(new Date),T=/^\d{8}$/.test(F)?F:n(_(F));return[C(T,30),T]}),z=v([]),S=v([]),w=v([]),E=v("date"),B=v("desc"),A=v("history"),g=v(!1);J(()=>z.value.length?[...z.value].sort((n,_)=>{const C=n[E.value],F=_[E.value];if(typeof C=="string"&&typeof F=="string")return B.value==="asc"?C.localeCompare(F):F.localeCompare(C);{const T=C==null?-1/0:Number(C),u=F==null?-1/0:Number(F);return B.value==="asc"?T-u:u-T}}):[]);const L=()=>{x.back()},V=async()=>{if(!r.code){U.warning("请选择股票");return}c.value=!0;try{const n=r.dateRange[0]||"",_=r.dateRange[1]||"";console.log("StockHistoryView fetchHistoryData called",{code:r.code,startDate:n,endDate:_});const C=await ke(r.code,{start_date:n,end_date:_,adjust:""});if(console.log("StockHistoryView getStockHistory response",{responseLength:C?.length,firstItem:C?.[0]}),z.value=C,C&&C.length>0){const F=C[0];D.code=r.code,D.name=F.stock_name||"",console.log("StockHistoryView stockInfo updated",D)}await s(),U.success("历史行情数据加载成功")}catch(n){console.error("获取历史行情数据失败:",n),U.error("获取历史行情数据失败，请稍后重试")}finally{c.value=!1}},s=async()=>{if(r.code){f.value=!0;try{const n=await Ce(r.code,{page:1,page_size:20});S.value=n.reports.sort((_,C)=>C.report_date.localeCompare(_.report_date)),console.log("业绩数据加载成功:",S.value.length,"条记录")}catch(n){console.error("获取业绩数据失败:",n)}finally{f.value=!1}}},e=async n=>{if(!(n.length<2)){h.value=!0;try{const C=(await xe()).data;w.value=C.filter(F=>F.code.includes(n)||F.name.includes(n)).slice(0,20)}catch(_){console.error("搜索股票失败:",_)}finally{h.value=!1}}},l=n=>{r.code=n,x.push(`/stock-history/${n}`)},H=()=>{V()},M=()=>{r.dateRange=[]},R=({prop:n,order:_})=>{E.value=n||"date",B.value=_==="ascending"?"asc":"desc"},k=n=>{g.value=n},P=n=>{U.error(n)};return Q(()=>d.params.code,n=>{n&&typeof n=="string"&&(r.code=n,V())}),ee(()=>{const n=new Date,_=new Date;_.setDate(_.getDate()-30),r.dateRange=[_.toISOString().split("T")[0].replace(/-/g,""),n.toISOString().split("T")[0].replace(/-/g,"")],r.code&&V()}),(n,_)=>{const C=i("el-button"),F=i("el-option"),T=i("el-select"),u=i("el-form-item"),o=i("el-date-picker"),W=i("el-form"),N=i("el-card"),G=i("el-tab-pane"),se=i("el-tabs"),ie=i("el-skeleton"),ce=i("el-empty");return b(),$("div",Ct,[t(N,{class:"page-header"},{header:a(()=>[y("div",xt,[y("div",Dt,[y("h2",null,[m(p(D.name)+" ",1),y("span",St,p(D.code),1)]),D.industry?(b(),$("p",$t,p(D.industry),1)):ne("",!0)]),y("div",It,[t(C,{type:"primary",icon:q(me),onClick:L},{default:a(()=>[..._[3]||(_[3]=[m("返回",-1)])]),_:1},8,["icon"]),t(C,{type:"success",icon:q(he),onClick:V,loading:c.value},{default:a(()=>[..._[4]||(_[4]=[m(" 刷新数据 ",-1)])]),_:1},8,["icon","loading"])])])]),default:a(()=>[y("div",zt,[t(W,{inline:!0,model:r},{default:a(()=>[t(u,{label:"股票代码"},{default:a(()=>[t(T,{modelValue:r.code,"onUpdate:modelValue":_[0]||(_[0]=j=>r.code=j),filterable:"",remote:"",placeholder:"请输入股票代码或名称","remote-method":e,loading:h.value,onChange:l},{default:a(()=>[(b(!0),$(ue,null,ge(w.value,j=>(b(),X(F,{key:j.code,label:`${j.name} (${j.code})`,value:j.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),t(u,{label:"日期范围"},{default:a(()=>[t(o,{modelValue:r.dateRange,"onUpdate:modelValue":_[1]||(_[1]=j=>r.dateRange=j),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"YYYY-MM-DD","value-format":"YYYYMMDD"},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t(C,{type:"primary",icon:q(ae),onClick:H},{default:a(()=>[..._[5]||(_[5]=[m("查询",-1)])]),_:1},8,["icon"]),t(C,{icon:q(fe),onClick:M},{default:a(()=>[..._[6]||(_[6]=[m("重置",-1)])]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])]),y("div",Pt,[t(N,{class:"chart-card"},{header:a(()=>[..._[7]||(_[7]=[y("div",{class:"card-header"},[y("span",null,"K线形态识别热力图（最近一月）")],-1)])]),default:a(()=>[t(kt,{"stock-code":r.code,"start-date":I.value[0],"end-date":I.value[1]},null,8,["stock-code","start-date","end-date"])]),_:1})]),y("div",Ft,[t(pt,{"history-data":z.value,"stock-info":D,loading:c.value},null,8,["history-data","stock-info","loading"])]),y("div",Lt,[t(vt,{"performance-data":S.value,"stock-info":D,loading:f.value},null,8,["performance-data","stock-info","loading"])]),!c.value&&(z.value.length>0||r.code)?(b(),$("div",At,[t(se,{modelValue:A.value,"onUpdate:modelValue":_[2]||(_[2]=j=>A.value=j),type:"card",class:"data-tabs"},{default:a(()=>[t(G,{label:"历史行情",name:"history"},{default:a(()=>[t(Xe,{"history-data":z.value,onRefresh:H,onSortChange:R},null,8,["history-data"])]),_:1}),t(G,{label:"业绩数据",name:"performance"},{default:a(()=>[t(lt,{"performance-data":S.value,loading:f.value,onRefresh:H,onSortChange:R},null,8,["performance-data","loading"])]),_:1}),t(G,{label:"资产负债表",name:"balance-sheet"},{default:a(()=>[t(Ae,{"stock-code":r.code,onLoading:k,onError:P},null,8,["stock-code"])]),_:1}),t(G,{label:"利润表",name:"income-statement"},{default:a(()=>[t(Te,{"stock-code":r.code,onLoading:k,onError:P},null,8,["stock-code"])]),_:1}),t(G,{label:"现金流量表",name:"cash-flow-statement"},{default:a(()=>[t(qe,{"stock-code":r.code,onLoading:k,onError:P},null,8,["stock-code"])]),_:1})]),_:1},8,["modelValue"])])):c.value?(b(),$("div",Ht,[t(ie,{rows:10,animated:""})])):(b(),$("div",Vt,[t(ce,{description:"暂无历史行情数据"},{default:a(()=>[t(C,{type:"primary",onClick:H},{default:a(()=>[..._[8]||(_[8]=[m("查询数据",-1)])]),_:1})]),_:1})]))]),_:1})])}}}),Ot=Z(Rt,[["__scopeId","data-v-f820c671"]]);export{Ot as default};
