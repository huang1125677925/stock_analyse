import{d as b,a as p,c as g,e,w as a,i,b as c,k as x,Z as V,E as u,u as C,H as I,o as T,_ as k}from"./index-BiO6gj85.js";import{T as A}from"./TurnoverAnalysis-DVjSOg8f.js";import{P as B}from"./PerformanceAnalysis-D_fpnzpc.js";import{F as E}from"./FundFlowAnalysis-BP7ywVch.js";import{I as P}from"./IndustryTreemap-CN9JqZjr.js";import H from"./IndexRpsView-LrVLOOp3.js";import{g as S}from"./personalHoldingsApi-C09YlTIr.js";import{I as F}from"./IndustryBreadthAnalysis-Dum0q3jU.js";import{I as f}from"./IndustryScaleBreadthPanel-C1ZLyVBE.js";import"./DateRangeSelector-CP413abA.js";import"./index-ElshY9iF.js";import"./HeatmapChart-CaG5xfYE.js";import"./industry-fund-flow-DaD6LcoN.js";import"./industryApi-BUmSpeUo.js";import"./strategyApi-CWDIFt6u.js";import"./strategyBreadthApi-cWgCt8aX.js";const M={class:"congestion-heatmap"},N={class:"header-controls"},R=b({__name:"CongestionHeatmap",setup(z){const d=p("turnover"),o=p(!1),l=p([]),h=C(),y=async()=>{if(o.value){if(!V()){u.error("请先登录后再启用“仅看我的”"),o.value=!1,h.push("/login");return}try{const s=await S(),t=Array.from(new Set((s.data?.list||[]).map(r=>(r.industry||"").trim()).filter(r=>!!r)));l.value=t,t.length===0?u.warning("您的持有/关注列表为空，当前无可筛选的行业"):u.success(`已启用，仅展示 ${t.length} 个相关行业`)}catch(s){console.error("获取个人持有/关注列表失败:",s),u.error("获取个人行业列表失败，请稍后重试"),o.value=!1,l.value=[]}}else l.value=[]},_=async s=>{d.value=s,await I(),window.dispatchEvent(new Event("resize"))};return(s,t)=>{const r=i("el-checkbox"),n=i("el-tab-pane"),v=i("el-tabs"),w=i("el-card");return T(),g("div",M,[e(w,null,{default:a(()=>[c("div",N,[t[3]||(t[3]=c("h3",null,"行业拥挤度分析",-1)),c("div",null,[e(r,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=m=>o.value=m),onChange:y},{default:a(()=>[...t[2]||(t[2]=[x("仅看我的",-1)])]),_:1},8,["modelValue"])])]),e(v,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=m=>d.value=m),class:"analysis-tabs",lazy:!0,onTabChange:_},{default:a(()=>[e(n,{label:"成交金额占比分位数",name:"turnover"},{default:a(()=>[e(A,{"industry-whitelist":l.value},null,8,["industry-whitelist"])]),_:1}),e(n,{label:"行业业绩指标",name:"performance"},{default:a(()=>[e(B,{"industry-whitelist":l.value},null,8,["industry-whitelist"])]),_:1}),e(n,{label:"行业资金流",name:"fundflow"},{default:a(()=>[e(E,{"industry-whitelist":l.value},null,8,["industry-whitelist"])]),_:1}),e(n,{label:"行业矩形树图",name:"treemap"},{default:a(()=>[e(P,{"industry-whitelist":l.value},null,8,["industry-whitelist"])]),_:1}),e(n,{label:"行业宽度热力图",name:"breadth"},{default:a(()=>[e(F,{"industry-whitelist":l.value},null,8,["industry-whitelist"])]),_:1}),e(n,{label:"行业规模宽度",name:"scaleBreadth"},{default:a(()=>[e(f,{"industry-whitelist":l.value,"panel-type":"breadth"},null,8,["industry-whitelist"])]),_:1}),e(n,{label:"行业产出营收",name:"outputScale"},{default:a(()=>[e(f,{"industry-whitelist":l.value,"panel-type":"output"},null,8,["industry-whitelist"])]),_:1}),e(n,{label:"指数RPS强度排名",name:"indexrps"},{default:a(()=>[e(H)]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}}),te=k(R,[["__scopeId","data-v-27c64bb8"]]);export{te as default};
