import{d as f,a as i,c as g,e as l,w as u,i as d,b as r,k as v,Z as h,E as a,u as w,o as y,_ as V}from"./index-DjdnCFVv.js";import{F as x}from"./FundFlowAnalysis-BVHL_AKa.js";import{g as C}from"./personalHoldingsApi-Ub3Bq0Jl.js";import"./industry-fund-flow-zpv3Eytn.js";import"./DateRangeSelector-L22o9xIX.js";import"./index-ElshY9iF.js";import"./HeatmapChart-qYCoRc43.js";const F={class:"congestion-page"},k={class:"header-controls"},b=f({__name:"CongestionFundFlowView",setup(A){const c=w(),t=i(!1),s=i([]),m=async()=>{if(t.value){if(!h()){a.error("请先登录后再启用“仅看我的”"),t.value=!1,c.push("/login");return}try{const n=await C(),e=Array.from(new Set((n.data?.list||[]).map(o=>(o.industry||"").trim()).filter(o=>!!o)));s.value=e,e.length===0?a.warning("您的持有/关注列表为空，当前无可筛选的行业"):a.success(`已启用，仅展示 ${e.length} 个相关行业`)}catch(n){console.error("获取个人持有/关注列表失败:",n),a.error("获取个人行业列表失败，请稍后重试"),t.value=!1,s.value=[]}}else s.value=[]};return(n,e)=>{const o=d("el-checkbox"),p=d("el-card");return y(),g("div",F,[l(p,null,{default:u(()=>[r("div",k,[e[2]||(e[2]=r("h3",null,"行业资金流",-1)),r("div",null,[l(o,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=_=>t.value=_),onChange:m},{default:u(()=>[...e[1]||(e[1]=[v("仅看我的",-1)])]),_:1},8,["modelValue"])])]),l(x,{"industry-whitelist":s.value},null,8,["industry-whitelist"])]),_:1})])}}}),P=V(b,[["__scopeId","data-v-43462120"]]);export{P as default};
