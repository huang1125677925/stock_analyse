import{d as N,a as v,r as w,y as P,c as H,b as c,e,w as n,i as s,E as L,k as f,l as M,O as j,D as q,G,f as I,o as V,_ as O}from"./index-GrVrC4rj.js";import{g as R}from"./etfApi-iYWfUg2U.js";const Z={class:"etf-basic-view"},A={class:"page-header"},J={class:"header-content"},K={class:"pagination"},Q=N({__name:"EtfBasicView",setup(W){const m=v(!1),b=v([]),d=w({page:1,page_size:20,total:0,pages:0}),l=w({ts_code:"",index_code:"",exchange:"",list_status:"",etf_type:"",mgr_name:"",name:""}),r=async()=>{m.value=!0;try{const i=await R({ts_code:l.ts_code||void 0,index_code:l.index_code||void 0,exchange:l.exchange||void 0,list_status:l.list_status||void 0,etf_type:l.etf_type||void 0,mgr_name:l.mgr_name||void 0,name:l.name||void 0,page:d.page,page_size:d.page_size});b.value=i.data||[],d.total=i.total||0,d.pages=i.pages||0}catch(i){L.error(i?.message||"ETF 基本信息获取失败")}finally{m.value=!1}},x=()=>{d.page=1,r()},y=()=>{l.ts_code="",l.index_code="",l.exchange="",l.list_status="",l.etf_type="",l.mgr_name="",l.name="",d.page=1,r()},z=()=>r(),E=i=>{d.page_size=i,d.page=1,r()},S=i=>{d.page=i,r()};return P(()=>{r()}),(i,a)=>{const g=s("el-button"),C=s("el-icon"),U=s("el-space"),_=s("el-input"),p=s("el-form-item"),u=s("el-option"),k=s("el-select"),T=s("el-form"),h=s("el-card"),t=s("el-table-column"),B=s("el-table"),D=s("el-pagination"),F=G("loading");return V(),H("div",Z,[c("div",A,[c("div",J,[a[12]||(a[12]=c("h2",null,"ETF 基本信息",-1)),e(U,null,{default:n(()=>[e(g,{type:"primary",loading:m.value,onClick:x},{default:n(()=>[...a[9]||(a[9]=[f("查询",-1)])]),_:1},8,["loading"]),e(g,{onClick:y},{default:n(()=>[...a[10]||(a[10]=[f("重置",-1)])]),_:1}),e(g,{onClick:z},{default:n(()=>[e(C,null,{default:n(()=>[e(M(j))]),_:1}),a[11]||(a[11]=f("刷新",-1))]),_:1})]),_:1})])]),e(h,{class:"search-card"},{default:n(()=>[e(T,{model:l,"label-width":"110px","label-position":"left",inline:""},{default:n(()=>[e(p,{label:"TS代码"},{default:n(()=>[e(_,{modelValue:l.ts_code,"onUpdate:modelValue":a[0]||(a[0]=o=>l.ts_code=o),placeholder:"如 510300.SH",clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:"指数代码"},{default:n(()=>[e(_,{modelValue:l.index_code,"onUpdate:modelValue":a[1]||(a[1]=o=>l.index_code=o),placeholder:"如 000300.SH",clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:"交易所"},{default:n(()=>[e(_,{modelValue:l.exchange,"onUpdate:modelValue":a[2]||(a[2]=o=>l.exchange=o),placeholder:"如 SSE/ SZSE",clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:"上市状态"},{default:n(()=>[e(k,{modelValue:l.list_status,"onUpdate:modelValue":a[3]||(a[3]=o=>l.list_status=o),placeholder:"全部",clearable:"",style:{width:"160px"}},{default:n(()=>[e(u,{label:"全部",value:""}),e(u,{label:"上市",value:"L"}),e(u,{label:"退市",value:"D"}),e(u,{label:"暂停",value:"P"})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"ETF类型"},{default:n(()=>[e(_,{modelValue:l.etf_type,"onUpdate:modelValue":a[4]||(a[4]=o=>l.etf_type=o),placeholder:"如 指数、行业 等",clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:"管理人"},{default:n(()=>[e(_,{modelValue:l.mgr_name,"onUpdate:modelValue":a[5]||(a[5]=o=>l.mgr_name=o),placeholder:"基金管理人简称",clearable:""},null,8,["modelValue"])]),_:1}),e(p,{label:"名称关键词"},{default:n(()=>[e(_,{modelValue:l.name,"onUpdate:modelValue":a[6]||(a[6]=o=>l.name=o),placeholder:"支持模糊搜索",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),e(h,{class:"table-card"},{default:n(()=>[q((V(),I(B,{data:b.value,border:"",style:{width:"100%"}},{default:n(()=>[e(t,{prop:"extname",label:"ETF简称","min-width":"160"}),e(t,{prop:"ts_code",label:"TS代码","min-width":"140"}),e(t,{prop:"index_name",label:"跟踪指数","min-width":"160"}),e(t,{prop:"exchange",label:"交易所","min-width":"120"}),e(t,{prop:"list_status",label:"上市状态","min-width":"100"}),e(t,{prop:"mgr_name",label:"管理人","min-width":"160"}),e(t,{prop:"csname",label:"基金简称","min-width":"160"}),e(t,{prop:"cname",label:"基金全称","min-width":"240"}),e(t,{prop:"index_code",label:"指数代码","min-width":"140"}),e(t,{prop:"etf_type",label:"ETF类型","min-width":"120"}),e(t,{prop:"mgt_fee",label:"管理费率","min-width":"100"}),e(t,{prop:"setup_date",label:"成立日期","min-width":"120"}),e(t,{prop:"list_date",label:"上市日期","min-width":"120"}),e(t,{prop:"delist_date",label:"退市日期","min-width":"120"}),e(t,{prop:"custod_name",label:"托管人","min-width":"180"}),e(t,{prop:"created_at",label:"创建时间","min-width":"180"}),e(t,{prop:"updated_at",label:"更新时间","min-width":"180"})]),_:1},8,["data"])),[[F,m.value]]),c("div",K,[e(D,{background:"",layout:"total, sizes, prev, pager, next, jumper",total:d.total,"page-sizes":[10,20,50,100],"page-size":d.page_size,"onUpdate:pageSize":a[7]||(a[7]=o=>d.page_size=o),"current-page":d.page,"onUpdate:currentPage":a[8]||(a[8]=o=>d.page=o),onSizeChange:E,onCurrentChange:S},null,8,["total","page-size","current-page"])])]),_:1})])}}}),$=O(Q,[["__scopeId","data-v-bda1ad67"]]);export{$ as default};
