import{d as _,a as i,c as h,e as l,w as c,i as d,b as r,k as g,Z as v,E as n,u as y,o as w,_ as V}from"./index-BS8n22Bm.js";import{I as x}from"./IndustryScaleBreadthPanel-weCyFMgn.js";import{g as C}from"./personalHoldingsApi-DkCuu_ac.js";import"./index-ElshY9iF.js";import"./strategyBreadthApi-c3EOxwY8.js";const b={class:"congestion-page"},B={class:"header-controls"},k=_({__name:"CongestionScaleBreadthView",setup(S){const u=y(),t=i(!1),a=i([]),p=async()=>{if(t.value){if(!v()){n.error("请先登录后再启用“仅看我的”"),t.value=!1,u.push("/login");return}try{const o=await C(),e=Array.from(new Set((o.data?.list||[]).map(s=>(s.industry||"").trim()).filter(s=>!!s)));a.value=e,e.length===0?n.warning("您的持有/关注列表为空，当前无可筛选的行业"):n.success(`已启用，仅展示 ${e.length} 个相关行业`)}catch(o){console.error("获取个人持有/关注列表失败:",o),n.error("获取个人行业列表失败，请稍后重试"),t.value=!1,a.value=[]}}else a.value=[]};return(o,e)=>{const s=d("el-checkbox"),m=d("el-card");return w(),h("div",b,[l(m,null,{default:c(()=>[r("div",B,[e[2]||(e[2]=r("h3",null,"行业规模宽度",-1)),r("div",null,[l(s,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=f=>t.value=f),onChange:p},{default:c(()=>[...e[1]||(e[1]=[g("仅看我的",-1)])]),_:1},8,["modelValue"])])]),l(x,{"industry-whitelist":a.value,"panel-type":"breadth"},null,8,["industry-whitelist"])]),_:1})])}}}),P=V(k,[["__scopeId","data-v-b0b36fc8"]]);export{P as default};
