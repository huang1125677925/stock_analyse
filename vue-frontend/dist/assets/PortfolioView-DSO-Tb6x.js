import{d as j,a as g,z as y,c as w,e as t,w as l,i as n,b as o,L as k,t as u,k as p,F as G,A as H,l as J,R as K,o as P,_ as O}from"./index-GrVrC4rj.js";const Q={class:"portfolio"},W={class:"card-header"},X={class:"header-actions"},Y={class:"portfolio-content"},Z={class:"portfolio-summary"},h={class:"summary-item"},ee={class:"value"},te={class:"summary-item"},le={class:"summary-item"},oe={class:"summary-item"},ae={class:"value"},ne={class:"sector-distribution"},se={class:"sector-name"},re={class:"chart-placeholder"},ie=j({__name:"PortfolioView",setup(ue){const m=g([{code:"000001",name:"平安银行",quantity:1e3,currentPrice:12.5,costPrice:11.8,marketValue:12500,profit:5.93},{code:"000002",name:"万科A",quantity:500,currentPrice:15.2,costPrice:16.5,marketValue:7600,profit:-7.88},{code:"000858",name:"五粮液",quantity:200,currentPrice:180.5,costPrice:175,marketValue:36100,profit:3.14}]),q=y(()=>m.value.reduce((s,e)=>s+e.marketValue,0)),c=y(()=>m.value.reduce((s,e)=>{const r=(e.currentPrice-e.costPrice)*e.quantity;return s+r},0)),_=y(()=>{const s=m.value.reduce((e,r)=>e+r.costPrice*r.quantity,0);return s>0?(c.value/s*100).toFixed(2):0}),A=g([{name:"金融",percentage:40,color:"#409EFF"},{name:"房地产",percentage:25,color:"#67C23A"},{name:"消费",percentage:35,color:"#E6A23C"}]),f=g(!1),i=g({code:"",name:"",price:0,quantity:0}),F=()=>{f.value=!0},N=()=>{console.log("添加股票:",i.value),f.value=!1},z=()=>{console.log("刷新投资组合数据...")},U=s=>{console.log("编辑股票:",s)},L=s=>{console.log("卖出股票:",s)},$=s=>`${s}%`;return(s,e)=>{const r=n("el-button"),d=n("el-table-column"),B=n("el-table"),v=n("el-card"),V=n("el-col"),D=n("el-divider"),E=n("el-progress"),C=n("el-row"),R=n("el-icon"),x=n("el-input"),b=n("el-form-item"),S=n("el-input-number"),I=n("el-form"),M=n("el-dialog");return P(),w("div",Q,[t(v,{class:"page-header"},{header:l(()=>[o("div",W,[e[8]||(e[8]=o("span",null,"投资组合管理",-1)),o("div",X,[t(r,{type:"primary",onClick:F},{default:l(()=>[...e[6]||(e[6]=[p("添加股票",-1)])]),_:1}),t(r,{type:"success",onClick:z},{default:l(()=>[...e[7]||(e[7]=[p("刷新组合",-1)])]),_:1})])])]),default:l(()=>[o("div",Y,[t(C,{gutter:20},{default:l(()=>[t(V,{span:16},{default:l(()=>[t(v,null,{header:l(()=>[...e[9]||(e[9]=[o("span",null,"持仓股票",-1)])]),default:l(()=>[t(B,{data:m.value,style:{width:"100%"}},{default:l(()=>[t(d,{prop:"code",label:"股票代码",width:"100"}),t(d,{prop:"name",label:"股票名称",width:"120"}),t(d,{prop:"quantity",label:"持股数量",width:"100"}),t(d,{prop:"currentPrice",label:"当前价格",width:"100"}),t(d,{prop:"costPrice",label:"成本价格",width:"100"}),t(d,{prop:"marketValue",label:"市值",width:"120"}),t(d,{prop:"profit",label:"盈亏",width:"100"},{default:l(a=>[o("span",{class:k({"profit-positive":a.row.profit>0,"profit-negative":a.row.profit<0})},u(a.row.profit>0?"+":"")+u(a.row.profit)+"% ",3)]),_:1}),t(d,{label:"操作",width:"150"},{default:l(a=>[t(r,{type:"text",size:"small",onClick:T=>U(a.row)},{default:l(()=>[...e[10]||(e[10]=[p("编辑",-1)])]),_:2},1032,["onClick"]),t(r,{type:"text",size:"small",onClick:T=>L(a.row)},{default:l(()=>[...e[11]||(e[11]=[p("卖出",-1)])]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),t(V,{span:8},{default:l(()=>[t(v,{class:"summary-card"},{header:l(()=>[...e[12]||(e[12]=[o("span",null,"组合概览",-1)])]),default:l(()=>[o("div",Z,[o("div",h,[e[13]||(e[13]=o("span",{class:"label"},"总资产:",-1)),o("span",ee,"¥"+u(q.value.toLocaleString()),1)]),o("div",te,[e[14]||(e[14]=o("span",{class:"label"},"总盈亏:",-1)),o("span",{class:k({"profit-positive":c.value>0,"profit-negative":c.value<0})},u(c.value>0?"+":"")+"¥"+u(Math.abs(c.value).toLocaleString()),3)]),o("div",le,[e[15]||(e[15]=o("span",{class:"label"},"收益率:",-1)),o("span",{class:k({"profit-positive":Number(_.value)>0,"profit-negative":Number(_.value)<0})},u(Number(_.value)>0?"+":"")+u(_.value)+"% ",3)]),o("div",oe,[e[16]||(e[16]=o("span",{class:"label"},"持仓股票:",-1)),o("span",ae,u(m.value.length)+"只",1)])]),t(D),o("div",ne,[e[17]||(e[17]=o("h4",null,"行业分布",-1)),(P(!0),w(G,null,H(A.value,a=>(P(),w("div",{key:a.name,class:"sector-item"},[o("span",se,u(a.name),1),t(E,{percentage:a.percentage,color:a.color,format:$},null,8,["percentage","color"])]))),128))])]),_:1})]),_:1})]),_:1}),t(C,{gutter:20,class:"mt-20"},{default:l(()=>[t(V,{span:24},{default:l(()=>[t(v,null,{header:l(()=>[...e[18]||(e[18]=[o("span",null,"收益走势",-1)])]),default:l(()=>[o("div",re,[t(R,{size:"48"},{default:l(()=>[t(J(K))]),_:1}),e[19]||(e[19]=o("p",null,"收益走势图区域",-1))])]),_:1})]),_:1})]),_:1})])]),_:1}),t(M,{modelValue:f.value,"onUpdate:modelValue":e[5]||(e[5]=a=>f.value=a),title:"添加股票",width:"400px"},{footer:l(()=>[t(r,{onClick:e[4]||(e[4]=a=>f.value=!1)},{default:l(()=>[...e[20]||(e[20]=[p("取消",-1)])]),_:1}),t(r,{type:"primary",onClick:N},{default:l(()=>[...e[21]||(e[21]=[p("确认添加",-1)])]),_:1})]),default:l(()=>[t(I,{model:i.value,"label-width":"80px"},{default:l(()=>[t(b,{label:"股票代码"},{default:l(()=>[t(x,{modelValue:i.value.code,"onUpdate:modelValue":e[0]||(e[0]=a=>i.value.code=a),placeholder:"请输入股票代码"},null,8,["modelValue"])]),_:1}),t(b,{label:"股票名称"},{default:l(()=>[t(x,{modelValue:i.value.name,"onUpdate:modelValue":e[1]||(e[1]=a=>i.value.name=a),placeholder:"请输入股票名称"},null,8,["modelValue"])]),_:1}),t(b,{label:"买入价格"},{default:l(()=>[t(S,{modelValue:i.value.price,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value.price=a),precision:2,step:.01},null,8,["modelValue"])]),_:1}),t(b,{label:"买入数量"},{default:l(()=>[t(S,{modelValue:i.value.quantity,"onUpdate:modelValue":e[3]||(e[3]=a=>i.value.quantity=a),step:100},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),pe=O(ie,[["__scopeId","data-v-fbb02df4"]]);export{pe as default};
