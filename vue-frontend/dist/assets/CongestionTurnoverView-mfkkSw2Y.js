import{d as f,a as i,c as v,e as a,w as u,i as c,b as l,k as g,Z as h,E as r,u as y,o as w,_ as V}from"./index-DflXyc7k.js";import{T as x}from"./TurnoverAnalysis-DF5rfnSz.js";import{g as C}from"./personalHoldingsApi-CES3vTAt.js";import"./DateRangeSelector-C9exsAKs.js";import"./index-ElshY9iF.js";import"./HeatmapChart-zij8VYlH.js";const k={class:"congestion-page"},T={class:"header-controls"},b=f({__name:"CongestionTurnoverView",setup(A){const d=y(),s=i(!1),o=i([]),m=async()=>{if(s.value){if(!h()){r.error("请先登录后再启用“仅看我的”"),s.value=!1,d.push("/login");return}try{const n=await C(),e=Array.from(new Set((n.data?.list||[]).map(t=>(t.industry||"").trim()).filter(t=>!!t)));o.value=e,e.length===0?r.warning("您的持有/关注列表为空，当前无可筛选的行业"):r.success(`已启用，仅展示 ${e.length} 个相关行业`)}catch(n){console.error("获取个人持有/关注列表失败:",n),r.error("获取个人行业列表失败，请稍后重试"),s.value=!1,o.value=[]}}else o.value=[]};return(n,e)=>{const t=c("el-checkbox"),p=c("el-card");return w(),v("div",k,[a(p,null,{default:u(()=>[l("div",T,[e[2]||(e[2]=l("h3",null,"成交金额占比分位数",-1)),l("div",null,[a(t,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=_=>s.value=_),onChange:m},{default:u(()=>[...e[1]||(e[1]=[g("仅看我的",-1)])]),_:1},8,["modelValue"])])]),a(x,{"industry-whitelist":o.value},null,8,["industry-whitelist"])]),_:1})])}}}),O=V(b,[["__scopeId","data-v-4e6ebed2"]]);export{O as default};
