import{d as L,a as m,y as N,c,b as t,D,G as E,f as y,w as n,E as T,i as r,e as s,F as j,A as F,k as f,u as M,o as i,g as O,t as g,_ as q}from"./index-ux7NYCNC.js";import{g as A}from"./quantBacktestApi-Dszao0t4.js";const G={class:"strategy-list-view"},I={class:"strategy-list-panel"},J={class:"card-header"},P={key:0,class:"empty-data"},R={key:1,class:"strategy-cards"},W={class:"strategy-detail"},$={class:"strategy-info"},z={key:0,class:"strategy-params"},H={class:"strategy-actions"},K=L({__name:"StrategyListView",setup(Q){const u=M(),_=m([]),d=m(!1),v=a=>Object.entries(a).map(([e,o])=>({name:e,description:o.description,type:o.type,default:typeof o.default=="object"?JSON.stringify(o.default):o.default})),b=()=>{u.push("/backtest-strategy")},h=a=>{u.push({path:"/backtest-strategy",query:{strategy:a}})},k=async()=>{d.value=!0;try{const a=await A();_.value=a}catch(a){console.error("加载策略列表失败:",a),T.error("加载策略列表失败")}finally{d.value=!1}};return N(()=>{k()}),(a,e)=>{const o=r("el-button"),w=r("el-empty"),p=r("el-table-column"),C=r("el-table"),S=r("el-collapse-item"),B=r("el-collapse"),V=r("el-card"),x=E("loading");return i(),c("div",G,[e[4]||(e[4]=t("div",{class:"page-header"},[t("h1",null,"回测策略列表"),t("p",null,"查看所有可用的回测策略及其参数")],-1)),t("div",I,[D((i(),y(V,null,{header:n(()=>[t("div",J,[e[1]||(e[1]=t("span",null,"可用策略",-1)),s(o,{type:"primary",onClick:b},{default:n(()=>[...e[0]||(e[0]=[f("创建回测任务",-1)])]),_:1})])]),default:n(()=>[_.value.length===0&&!d.value?(i(),c("div",P,[s(w,{description:"暂无可用策略"})])):(i(),c("div",R,[s(B,{accordion:""},{default:n(()=>[(i(!0),c(j,null,F(_.value,l=>(i(),y(S,{key:l.name,title:l.description,name:l.name},{default:n(()=>[t("div",W,[t("div",$,[t("h3",null,"策略名称: "+g(l.name),1),t("p",null,g(l.description),1)]),l.params?(i(),c("div",z,[e[2]||(e[2]=t("h4",null,"参数列表:",-1)),s(C,{data:v(l.params),border:"",stripe:""},{default:n(()=>[s(p,{prop:"name",label:"参数名称",width:"180"}),s(p,{prop:"description",label:"参数说明",width:"250"}),s(p,{prop:"type",label:"类型",width:"100"}),s(p,{prop:"default",label:"默认值"})]),_:2},1032,["data"])])):O("",!0),t("div",H,[s(o,{type:"primary",onClick:U=>h(l.name)},{default:n(()=>[...e[3]||(e[3]=[f(" 使用此策略创建回测 ",-1)])]),_:2},1032,["onClick"])])])]),_:2},1032,["title","name"]))),128))]),_:1})]))]),_:1})),[[x,d.value]])])])}}}),Z=q(K,[["__scopeId","data-v-cb7c8294"]]);export{Z as default};
