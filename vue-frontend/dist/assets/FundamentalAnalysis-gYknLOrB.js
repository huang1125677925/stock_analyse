import{V as P,d as Q,a as r,r as F,x as S,A as W,c as E,e,w as a,i as o,b as l,k as d,t as i,C as X,D as Y,f as T,l as $,O as ee,o as y,_ as ae}from"./index-DghMyGCw.js";import{T as te}from"./TrendChart-ldPshmI0.js";import"./index-ElshY9iF.js";async function le(){try{return(await P.get("/api/sh-a/stock/account/statistics")).data}catch(p){throw console.error("获取股票账户统计数据失败:",p),p}}function oe(p){return p.map(n=>({date:n.date,A股账户数:n["期末投资者-A股账户"],B股账户数:n["期末投资者-B股账户"],账户总量:n["期末投资者-总量"],新增投资者:n["新增投资者-数量"],沪深总市值:n.沪深总市值,沪深户均市值:n.沪深户均市值,上证指数:n["上证指数-收盘"]}))}const ne={class:"fundamental-analysis"},se={class:"card-header"},ce={class:"header-actions"},re={class:"analysis-content"},ie={class:"financial-indicators"},de={class:"indicator-item"},ue={class:"indicator-value"},pe={class:"indicator-item"},_e={class:"indicator-value"},me={class:"indicator-item"},fe={class:"indicator-value"},be={class:"chart-header"},ve={class:"chart-controls"},ge={key:0,class:"chart-container"},he=Q({__name:"FundamentalAnalysis",setup(p){const n=r(""),V=r("balance"),_=F({name:"示例科技有限公司",code:"000001.SZ",industry:"软件开发",marketCap:"500亿",pe:25.8,pb:3.2}),I=r(85),M=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],k=F({roe:15.8,profitGrowth:25.6,debtRatio:45.2}),N=r([{item:"流动资产",current:"100亿",previous:"90亿",change:"+11.1%"},{item:"非流动资产",current:"200亿",previous:"180亿",change:"+11.1%"},{item:"流动负债",current:"80亿",previous:"75亿",change:"+6.7%"},{item:"非流动负债",current:"120亿",previous:"110亿",change:"+9.1%"},{item:"所有者权益",current:"100亿",previous:"85亿",change:"+17.6%"}]),R=r([{item:"营业收入",amount:"150亿",percentage:"100%"},{item:"营业成本",amount:"90亿",percentage:"60%"},{item:"营业利润",amount:"30亿",percentage:"20%"},{item:"净利润",amount:"25亿",percentage:"16.7%"}]),U=r([{item:"经营活动现金流",amount:"35亿",direction:"流入"},{item:"投资活动现金流",amount:"-20亿",direction:"流出"},{item:"筹资活动现金流",amount:"5亿",direction:"流入"},{item:"现金净增加额",amount:"20亿",direction:"净流入"}]),A=r([]),v=r(!1),g=r(["A股账户数","账户总量","新增投资者"]),G=S(()=>oe(A.value)),L=S(()=>g.value.map(s=>{switch(s){case"A股账户数":return{field:"A股账户数",name:"A股账户数",color:"#409EFF",key:"A股账户数",label:"A股账户数"};case"B股账户数":return{field:"B股账户数",name:"B股账户数",color:"#67C23A",key:"B股账户数",label:"B股账户数"};case"账户总量":return{field:"账户总量",name:"账户总量",color:"#E6A23C",key:"账户总量",label:"账户总量"};case"新增投资者":return{field:"新增投资者",name:"新增投资者",color:"#F56C6C",key:"新增投资者",label:"新增投资者"};case"沪深总市值":return{field:"沪深总市值",name:"沪深总市值",color:"#909399",key:"沪深总市值",label:"沪深总市值"};case"沪深户均市值":return{field:"沪深户均市值",name:"沪深户均市值",color:"#9B59B6",key:"沪深户均市值",label:"沪深户均市值"};case"上证指数":return{field:"上证指数",name:"上证指数",color:"#2C3E50",key:"上证指数",label:"上证指数"};default:return{field:s,name:s,color:"#409EFF",key:s.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase(),label:s}}}));async function w(){v.value=!0;try{const s=await le();s.code===200?A.value=s.data:console.error("获取股票账户数据失败:",s.message)}catch(s){console.error("获取股票账户数据失败:",s)}finally{v.value=!1}}const O=()=>{console.log("搜索股票:",n.value),w()};return W(()=>{w()}),(s,t)=>{const Z=o("el-input"),x=o("el-button"),m=o("el-descriptions-item"),z=o("el-descriptions"),f=o("el-card"),h=o("el-col"),j=o("el-progress"),C=o("el-row"),c=o("el-table-column"),B=o("el-table"),D=o("el-tab-pane"),q=o("el-tabs"),u=o("el-option"),H=o("el-select"),J=o("el-empty"),K=Y("loading");return y(),E("div",ne,[e(f,{class:"page-header"},{header:a(()=>[l("div",se,[t[4]||(t[4]=l("span",null,"基本面分析",-1)),l("div",ce,[e(Z,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=b=>n.value=b),placeholder:"输入股票代码或名称",style:{width:"200px","margin-right":"10px"}},null,8,["modelValue"]),e(x,{type:"primary",onClick:O},{default:a(()=>[...t[3]||(t[3]=[d("查询",-1)])]),_:1})])])]),default:a(()=>[l("div",re,[e(C,{gutter:20},{default:a(()=>[e(h,{span:12},{default:a(()=>[e(f,{class:"analysis-card"},{header:a(()=>[...t[5]||(t[5]=[l("span",null,"公司基本信息",-1)])]),default:a(()=>[e(z,{column:2,border:""},{default:a(()=>[e(m,{label:"公司名称"},{default:a(()=>[d(i(_.name),1)]),_:1}),e(m,{label:"股票代码"},{default:a(()=>[d(i(_.code),1)]),_:1}),e(m,{label:"所属行业"},{default:a(()=>[d(i(_.industry),1)]),_:1}),e(m,{label:"市值"},{default:a(()=>[d(i(_.marketCap),1)]),_:1}),e(m,{label:"市盈率"},{default:a(()=>[d(i(_.pe),1)]),_:1}),e(m,{label:"市净率"},{default:a(()=>[d(i(_.pb),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(h,{span:12},{default:a(()=>[e(f,{class:"analysis-card"},{header:a(()=>[...t[6]||(t[6]=[l("span",null,"财务指标",-1)])]),default:a(()=>[e(j,{type:"dashboard",percentage:I.value,color:M,class:"financial-score"},null,8,["percentage"]),l("div",ie,[l("div",de,[t[7]||(t[7]=l("span",{class:"indicator-label"},"ROE:",-1)),l("span",ue,i(k.roe)+"%",1)]),l("div",pe,[t[8]||(t[8]=l("span",{class:"indicator-label"},"净利润增长率:",-1)),l("span",_e,i(k.profitGrowth)+"%",1)]),l("div",me,[t[9]||(t[9]=l("span",{class:"indicator-label"},"资产负债率:",-1)),l("span",fe,i(k.debtRatio)+"%",1)])])]),_:1})]),_:1})]),_:1}),e(C,{gutter:20,class:"mt-20"},{default:a(()=>[e(h,{span:24},{default:a(()=>[e(f,null,{header:a(()=>[...t[10]||(t[10]=[l("span",null,"财务报表",-1)])]),default:a(()=>[e(q,{modelValue:V.value,"onUpdate:modelValue":t[1]||(t[1]=b=>V.value=b)},{default:a(()=>[e(D,{label:"资产负债表",name:"balance"},{default:a(()=>[e(B,{data:N.value,style:{width:"100%"}},{default:a(()=>[e(c,{prop:"item",label:"项目"}),e(c,{prop:"current",label:"本期金额"}),e(c,{prop:"previous",label:"上期金额"}),e(c,{prop:"change",label:"变动比例"})]),_:1},8,["data"])]),_:1}),e(D,{label:"利润表",name:"income"},{default:a(()=>[e(B,{data:R.value,style:{width:"100%"}},{default:a(()=>[e(c,{prop:"item",label:"项目"}),e(c,{prop:"amount",label:"金额"}),e(c,{prop:"percentage",label:"占比"})]),_:1},8,["data"])]),_:1}),e(D,{label:"现金流量表",name:"cashflow"},{default:a(()=>[e(B,{data:U.value,style:{width:"100%"}},{default:a(()=>[e(c,{prop:"item",label:"项目"}),e(c,{prop:"amount",label:"金额"}),e(c,{prop:"direction",label:"流向"})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(C,{gutter:20,class:"mt-20"},{default:a(()=>[e(h,{span:24},{default:a(()=>[X((y(),T(f,{shadow:"hover","element-loading-text":"正在加载股票账户数据..."},{header:a(()=>[l("div",be,[t[12]||(t[12]=l("h3",null,"股票账户数量趋势分析",-1)),l("div",ve,[e(H,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=b=>g.value=b),multiple:"",placeholder:"选择指标",style:{width:"300px"}},{default:a(()=>[e(u,{label:"A股账户数",value:"A股账户数"}),e(u,{label:"B股账户数",value:"B股账户数"}),e(u,{label:"账户总量",value:"账户总量"}),e(u,{label:"新增投资者",value:"新增投资者"}),e(u,{label:"沪深总市值",value:"沪深总市值"}),e(u,{label:"沪深户均市值",value:"沪深户均市值"}),e(u,{label:"上证指数",value:"上证指数"})]),_:1},8,["modelValue"]),e(x,{type:"primary",onClick:w,icon:$(ee),loading:v.value},{default:a(()=>[...t[11]||(t[11]=[d("刷新数据",-1)])]),_:1},8,["icon","loading"])])])]),default:a(()=>[A.value.length>0?(y(),E("div",ge,[e(te,{data:G.value,"date-field":"date",yFields:L.value,defaultSelectedFields:g.value,height:"500px",title:"股票账户数量趋势"},null,8,["data","yFields","defaultSelectedFields"])])):(y(),T(J,{key:1,description:"暂无股票账户数据"}))]),_:1})),[[K,v.value]])]),_:1})]),_:1})])]),_:1})])}}}),we=ae(he,[["__scopeId","data-v-75429c15"]]);export{we as default};
